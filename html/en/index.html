<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Javascript on Fiber: Quick Start</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Javascript on Fiber
   </div>
   <div id="projectbrief">A developement framework of the coroutines based on Google&#39;s V8 Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->

<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Quick Start </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#intro_sec">What’s fibjs</a></li>
<li class="level1"><a href="#install_sec">Build release</a><ul><li class="level2"><a href="#install_step1">Step 1: Preparation for Building</a></li>
<li class="level2"><a href="#install_step2">Step 2: Fetch source code</a></li>
<li class="level2"><a href="#install_step3">Step 3: Building</a></li>
<li class="level2"><a href="#install_step4">Step 4: Test cases</a></li>
<li class="level2"><a href="#install_step5">Step 5: Have a rest and drinking</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
What’s fibjs</h1>
<p>Fibjs is an application server framework bassed on Google V8 Javascript engine. Fibjs, as distinct from node.js, uses fiber to deal with multiplex of V8 engine. By reconstruct with lots of C++ components, heavy operations of consume much CPU time are devolved to background threads, which will release threads of V8 engine and compete for concurrent time.</p>
<h1><a class="anchor" id="install_sec"></a>
Build release</h1>
<h2><a class="anchor" id="install_step1"></a>
Step 1: Preparation for Building</h2>
<p><b>For</b> Windows, installing Visual Studio 2015</p>
<p><b>For</b> unix, dependency tools for building: </p><div class="fragment"><div class="line">GCC 4.8 or newer</div><div class="line">CMake 2.6 or newer</div><div class="line">GNU Make 3.81 or newer</div><div class="line">libexecinfo (FreeBSD and OpenBSD only)</div></div><!-- fragment --><p><b>For</b> MacOSX，take Brew for example, besides XCode and command line tools, cmake is needed: </p><div class="fragment"><div class="line">brew install cmake</div><div class="line">brew install git</div></div><!-- fragment --><p><b>For</b> Ubuntu: </p><div class="fragment"><div class="line">apt install g++</div><div class="line">apt install make</div><div class="line">apt install cmake</div><div class="line">apt install git</div></div><!-- fragment --><p>For 32-bit binary, additionally, multilib needs to be installed: </p><div class="fragment"><div class="line">apt install gcc-multilib</div><div class="line">apt install g++-multilib</div></div><!-- fragment --><p><b>For</b> 32bit-Arm on Ubuntu: </p><div class="fragment"><div class="line">apt install gcc-arm-linux-gnueabihf</div><div class="line">apt install g++-arm-linux-gnueabihf</div></div><!-- fragment --><p>For 64bit-Arm on Ubuntu: </p><div class="fragment"><div class="line">apt install gcc-aarch64-linux-gnu</div><div class="line">apt install g++-aarch64-linux-gnu</div></div><!-- fragment --><p><b>For</b> 32bit-mips on Ubuntu: </p><div class="fragment"><div class="line">apt install gcc-mips-linux-gnu</div><div class="line">apt install g++-mips-linux-gnu</div></div><!-- fragment --><p>For 64bit-mips on Ubuntu: </p><div class="fragment"><div class="line">apt install gcc-mips64-linux-gnuabi64</div><div class="line">apt install g++-mips64-linux-gnuabi64</div></div><!-- fragment --><p><b>For</b> 32bit-powerpc on Ubuntu: </p><div class="fragment"><div class="line">apt install gcc-powerpc-linux-gnu</div><div class="line">apt install g++-powerpc-linux-gnu</div></div><!-- fragment --><p>For 64bit-powerpc on Ubuntu: </p><div class="fragment"><div class="line">apt install gcc-powerpc64-linux-gnu</div><div class="line">apt install g++-powerpc64-linux-gnu</div></div><!-- fragment --><p>fix: </p><div class="fragment"><div class="line">rm -f /usr/include/<span class="keyword">asm</span></div><div class="line">ln -s x86_64-linux-gnu /usr/include/i386-linux-gnu</div><div class="line">ln -s x86_64-linux-gnu /usr/include/x86_64-linux-gnux32</div></div><!-- fragment --><p><b>For</b> Fedora: </p><div class="fragment"><div class="line">yum install gcc-c++</div><div class="line">yum install libstdc++-<span class="keyword">static</span></div><div class="line">yum install make</div><div class="line">yum install cmake</div><div class="line">yum install git</div></div><!-- fragment --><p>For 32bit-Fedora: </p><div class="fragment"><div class="line">yum install glibc-devel.i686</div><div class="line">yum install libstdc++-<span class="keyword">static</span>.i686</div></div><!-- fragment --><p><b>For</b> FreeBSD(8, 9): </p><div class="fragment"><div class="line">pkg_add -r cmake</div><div class="line">pkg_add -r libexecinfo</div><div class="line">pkg_add -r git</div></div><!-- fragment --><p>For FreeBSD10 and higher: </p><div class="fragment"><div class="line">pkg install cmake</div><div class="line">pkg install libexecinfo</div><div class="line">pkg install git</div></div><!-- fragment --><h2><a class="anchor" id="install_step2"></a>
Step 2: Fetch source code</h2>
<p>current fibjs project github address: <a href="https://github.com/fibjs/fibjs">https://github.com/fibjs/fibjs</a></p>
<p>Under appropriate directory run commands below: </p><div class="fragment"><div class="line">git clone https:<span class="comment">//github.com/fibjs/fibjs.git</span></div><div class="line">cd fibjs</div><div class="line">git submodule init</div><div class="line">git submodule update</div></div><!-- fragment --><h2><a class="anchor" id="install_step3"></a>
Step 3: Building</h2>
<p><b>For</b> Windows, click Windows Start then select All program then select Visual Studio 2015 then select Visual Studio Tools then select Developer Command Prompt for VS2015. You will open a terminal, find the fibjs root directory and run 'build'</p>
<p>For *nix/linux, run buil (shell file) to build. run command: </p><div class="fragment"><div class="line">sh build [options] [-jn] [-v] [-h]</div></div><!-- fragment --><p>options： </p><ul>
<li><code><b>clean:</b> Clear</code> building result for re-build cleanly. </li>
<li><code><b>Release:</b> Build</code> Release version </li>
<li><code><b>Debug:</b> Build</code> Debug version </li>
<li><code><b>i386:</b> Build</code> 32-bit version </li>
<li><code><b>amd64:</b> Build</code> 64-bit version </li>
<li><code><b>arm:</b> Cross</code> compile 32-bit arm version </li>
<li><code><b>arm64:</b> Cross</code> compile 64-bit arm version </li>
<li><code><b>mips:</b> Cross</code> compile 32-bit mips version </li>
<li><code><b>mips64:</b> Cross</code> compile 64-bit mips version </li>
<li><code><b>ppc:</b> Cross</code> compile 32-bit powerpc version </li>
<li><code><b>ppc64:</b> Cross</code> compile 64-bit powerpc version</li>
</ul>
<p><b>For</b> example, building Release as follows: </p><div class="fragment"><div class="line">sh build Release</div></div><!-- fragment --><h2><a class="anchor" id="install_step4"></a>
Step 4: Test cases</h2>
<p>Enter directory <b>test</b>, and then run <b></b>../bin/{$OS}_Release/fibjs main.js, which will go through all test cases .</p>
<p>All test cases pass, if output looks like as follows: </p><div class="fragment"><div class="line">.......</div><div class="line">db</div><div class="line">  √ escape</div><div class="line">  √ formatMySQL</div><div class="line">  sqlite</div><div class="line">    √ empty sql</div><div class="line">    √ create table</div><div class="line">    √ intert</div><div class="line">    √ select</div><div class="line">    √ callback</div><div class="line">    √ binary (835ms) </div><div class="line"></div><div class="line">BUG:simple_api_call</div><div class="line">  √ not hungup (109ms) </div><div class="line"></div><div class="line">√ 312 tests completed (6727ms)</div></div><!-- fragment --><h2><a class="anchor" id="install_step5"></a>
Step 5: Have a rest and drinking</h2>
<p>Now a executable fibjs is ready. Let’s celebrate! Coffee, beer, cola are all OK.</p>
<p>Finally, Lion leave some extra trivial words here. It looks interesting but bullshit! I’m so sure that these words make no sense and stray away from the main subject of this article definitely. If you still persist to know what he said, go on with Google translator. I keep the original sentence leaving as follows. ^_^ 我一般会喝点可乐，不乱神，不乱性，又能补充能量。天冷的时候就喝点热的果珍，虽然里面什么水果成分都没有。:&lt; </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<style type="text/css">
body {
	color: #666666;
}
a, .contents a:visited {
	color: #3399ee;
}
.icona, #nav-sync {
  display:none;
}
.directory td.entry, .directory td.desc {
  padding: 8px;
}
</style>
</body>
</html>