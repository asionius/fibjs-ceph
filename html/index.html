<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Javascript on Fiber: 快速入门</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Javascript on Fiber
   </div>
   <div id="projectbrief">基于 Google v8 引擎实现的协程应用开发框架</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->

<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">快速入门 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
什么是 fibjs</h1>
<p>fibjs 是一个建立在 Google v8 Javascript 引擎基础上的应用服务器开发框架，不同于 node.js，fibjs 采用 fiber 解决 v8 引擎的多路复用，并通过大量 c++ 组件，将重负荷运算委托给后台线程，释放 v8 线程，争取更大的并发时间。</p>
<h1><a class="anchor" id="install_sec"></a>
编译执行版本</h1>
<h2><a class="anchor" id="install_step1"></a>
第一步：准备编译环境</h2>
<p><b>Windows</b> 下需要安装 Visual Studio 2015。</p>
<p><b>unix</b> 下编译fibjs需要依赖以下工具： </p><div class="fragment"><div class="line">GCC 4.8 or newer</div><div class="line">CMake 2.6 or newer</div><div class="line">GNU Make 3.81 or newer</div><div class="line">libexecinfo (FreeBSD and OpenBSD only)</div></div><!-- fragment --><p><b>MacOSX</b> 下，除需要安装 xcode 及命令行工具外，以 Brew 为例，准备环境命令如下： </p><div class="fragment"><div class="line">brew install cmake</div><div class="line">brew install git</div></div><!-- fragment --><p><b>Ubuntu</b> 准备环境命令如下： </p><div class="fragment"><div class="line">apt install g++</div><div class="line">apt install make</div><div class="line">apt install cmake</div><div class="line">apt install git</div></div><!-- fragment --><p>如果要编译 32 位版本，另需要安装 multilib： </p><div class="fragment"><div class="line">apt install gcc-multilib</div><div class="line">apt install g++-multilib</div></div><!-- fragment --><p><b>Arm</b> on Ubuntu 准备环境命令如下： </p><div class="fragment"><div class="line">apt install gcc-arm-linux-gnueabihf</div><div class="line">apt install g++-arm-linux-gnueabihf</div></div><!-- fragment --><p>如果要在ubuntu上编译arm64位版本，准备环境命令如下： </p><div class="fragment"><div class="line">apt install gcc-aarch64-linux-gnu</div><div class="line">apt install g++-aarch64-linux-gnu</div></div><!-- fragment --><p><b>Mips</b> on Ubuntu 准备环境如下： </p><div class="fragment"><div class="line">apt install gcc-mips-linux-gnu</div><div class="line">apt install g++-mips-linux-gnu</div></div><!-- fragment --><p>如果要在ubuntu上编译mips 64位版本，准备环境命令如下： </p><div class="fragment"><div class="line">apt install gcc-mips64-linux-gnuabi64</div><div class="line">apt install g++-mips64-linux-gnuabi64</div></div><!-- fragment --><p><b>Powerpc</b> on Ubuntu 准备环境命令如下： </p><div class="fragment"><div class="line">apt install gcc-powerpc-linux-gnu</div><div class="line">apt install g++-powerpc-linux-gnu</div></div><!-- fragment --><p>如果要在ubuntu上编译powerpc 64位版本，准备环境命令如下： </p><div class="fragment"><div class="line">apt install gcc-powerpc64-linux-gnu</div><div class="line">apt install g++-powerpc64-linux-gnu</div></div><!-- fragment --><p>fix： </p><div class="fragment"><div class="line">rm -f /usr/include/<span class="keyword">asm</span></div><div class="line">ln -s x86_64-linux-gnu /usr/include/i386-linux-gnu</div><div class="line">ln -s x86_64-linux-gnu /usr/include/x86_64-linux-gnux32</div></div><!-- fragment --><p><b>Fedora</b> 准备环境命令如下： </p><div class="fragment"><div class="line">yum install gcc-c++</div><div class="line">yum install libstdc++-<span class="keyword">static</span></div><div class="line">yum install make</div><div class="line">yum install cmake</div><div class="line">yum install git</div></div><!-- fragment --><p>如果要编译 32 位版本，准备环境命令如下： </p><div class="fragment"><div class="line">yum install glibc-devel.i686</div><div class="line">yum install libstdc++-<span class="keyword">static</span>.i686</div></div><!-- fragment --><p><b>FreeBSD</b> (8,9)准备环境命令如下： </p><div class="fragment"><div class="line">pkg_add -r cmake</div><div class="line">pkg_add -r libexecinfo</div><div class="line">pkg_add -r git</div></div><!-- fragment --><p>FreeBSD 10及以上系统准备环境命令如下： </p><div class="fragment"><div class="line">pkg install cmake</div><div class="line">pkg install libexecinfo</div><div class="line">pkg install git</div></div><!-- fragment --><h2><a class="anchor" id="install_step2"></a>
第二步：获取代码</h2>
<p>fibjs 当前 github 地址为：https://github.com/fibjs/fibjs</p>
<p>在合适的位置执行以下命令： </p><div class="fragment"><div class="line">git clone https:<span class="comment">//github.com/fibjs/fibjs.git</span></div><div class="line">cd fibjs</div><div class="line">git submodule init</div><div class="line">git submodule update</div></div><!-- fragment --><h2><a class="anchor" id="install_step3"></a>
第三步：编译命令及说明</h2>
<p><b>Windows</b> 下点击start菜单选择所有程序选择Visual Studio 2015 选择Visual Studio Tools选择Developer Command Prompt for VS2015 打开终端后进入fibjs目录，执行命令：build</p>
<p><b>unix</b> 环境，在 fibjs 项目根目录，有一个 build 的 shell 脚本，可用于 fibjs 编译。 执行编译命令： </p><div class="fragment"><div class="line">sh build [options] [-jn] [-v] [-h]</div></div><!-- fragment --><p>options： </p><ul>
<li><code><b>clean:</b> 清除编译结果，便于全部重新编译</code> </li>
<li><code><b>Release:</b> 以发布方式编译</code> </li>
<li><code><b>Debug:</b> 以调试方式编译</code> </li>
<li><code><b>i386:</b> 以</code> 32 位发布方式编译 </li>
<li><code><b>amd64:</b> 以</code> 32 位发布方式编译 </li>
<li><code><b>arm:</b> 交叉编译32位arm版本</code> </li>
<li><code><b>arm64:</b> 交叉编译64位arm版本</code> </li>
<li><code><b>mips:</b> 交叉编译32位mips版本</code> </li>
<li><code><b>mips64:</b> 交叉编译64位mips版本</code> </li>
<li><code><b>ppc:</b> 交叉编译32位powerpc版本</code> </li>
<li><code><b>ppc64:</b> 交叉编译64位powerpc64版本</code> </li>
</ul>
<p>例如：Release 模式编译命令如下：</p>
<p>sh build Release</p>
<h2><a class="anchor" id="install_step4"></a>
第四步：测试全部用例</h2>
<p>进入 <b>test</b> 目录，执行 <b></b>../bin/{$OS}_Release/fibjs main.js , 即可开始执行 fibjs 全部测试用例。{$OS} 内容自行查阅。</p>
<p>当你看到类似以下结果，表示测试用例全部运行正常： </p><div class="fragment"><div class="line">.......</div><div class="line">db</div><div class="line">  √ escape</div><div class="line">  √ formatMySQL</div><div class="line">  sqlite</div><div class="line">    √ empty sql</div><div class="line">    √ create table</div><div class="line">    √ intert</div><div class="line">    √ select</div><div class="line">    √ callback</div><div class="line">    √ binary (835ms) </div><div class="line"></div><div class="line">BUG:simple_api_call</div><div class="line">  √ not hungup (109ms) </div><div class="line"></div><div class="line">√ 312 tests completed (6727ms)</div></div><!-- fragment --><h2><a class="anchor" id="install_step5"></a>
第五步：歇一会，喝点什么</h2>
<p>到现在为止，你已经有一个可以执行的 fibjs 版本了，可以庆祝一下，给自己一点奖励。咖啡，啤酒，还是可乐，随你的兴趣。</p>
<p>我一般会喝点可乐，不乱神，不乱性，又能补充能量。天冷的时候就喝点热的果珍，虽然里面什么水果成分都没有。:&lt; </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<style type="text/css">
body {
	color: #666666;
}
a, .contents a:visited {
	color: #3399ee;
}
.icona, #nav-sync {
  display:none;
}
.directory td.entry, .directory td.desc {
  padding: 8px;
}
</style>
</body>
</html>